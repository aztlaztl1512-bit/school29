<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุญุฏู ุงููุฏุฑุงุช - ูููุฐุฌ 12 - ุฃ/ ุนุจุฏุงูุนุฒูุฒ ุงููููู</title>
    <style>
        :root { --primary: #1e272e; --secondary: #0fbcf9; --success: #05c46b; --danger: #ff3f34; --warning: #ffd32a; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f1f2f6; margin: 0; padding: 20px; color: #2f3542; }
        .container { max-width: 850px; margin: auto; background: white; padding: 40px; border-radius: 30px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); border-top: 12px solid var(--primary); }
        .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #f1f2f6; padding-bottom: 20px; }
        .school-info { font-size: 1.4em; color: var(--secondary); font-weight: bold; }
        .student-board { background: #f8f9fa; padding: 15px 25px; border-radius: 15px; margin-bottom: 25px; border-right: 8px solid var(--warning); display: flex; justify-content: space-between; align-items: center; }
        .timer-display { font-weight: bold; font-size: 1.6em; color: var(--primary); background: white; padding: 10px 25px; border-radius: 15px; border: 3px solid var(--secondary); min-width: 80px; text-align: center; }
        .timer-warning { color: var(--danger); border-color: var(--danger); animation: shake 0.5s infinite; }
        @keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(5px); } 50% { transform: translateX(-5px); } 100% { transform: translateX(0); } }
        .question-box h3 { background: #fcfcfc; padding: 25px; border-radius: 15px; border: 2px dashed #d1d8e0; margin-top: 0; font-size: 1.35em; line-height: 1.6; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; list-style: none; padding: 0; }
        .options-grid li { padding: 20px; border: 2px solid #f1f2f6; border-radius: 15px; cursor: pointer; text-align: center; transition: 0.3s; font-size: 1.15em; font-weight: 500; background: #fff; }
        .options-grid li:hover { border-color: var(--secondary); background: #f7fbfe; transform: scale(1.02); }
        .options-grid li.correct-highlight { background: #dff9fb !important; border-color: var(--success) !important; color: #019031 !important; font-weight: bold; }
        .options-grid li.selected { background: var(--secondary); color: white; border-color: var(--secondary); }
        .feedback { margin-top: 25px; padding: 20px; border-radius: 15px; display: none; font-size: 1.1em; border-right: 12px solid; }
        .btn { width: 100%; padding: 20px; border: none; border-radius: 15px; cursor: pointer; font-size: 20px; font-weight: bold; margin-top: 25px; transition: 0.3s; box-shadow: 0 8px 15px rgba(0,0,0,0.1); }
        .btn-start { background: var(--success); color: white; }
        .btn-next { background: var(--primary); color: white; }
        .summary-item { padding: 15px; border-bottom: 1px solid #eee; margin-bottom: 15px; border-radius: 15px; background: #fafafa; border-right: 6px solid; }
        .footer-note { text-align: center; margin-top: 40px; padding-top: 25px; border-top: 2px solid #eee; font-style: italic; color: #57606f; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>๐ ุชุญุฏู ุงููุฏุฑุงุช ุงููุชูุงูู (ูููุฐุฌ 12)</h1>
        <div class="school-info">ุซุงูููุฉ ุงูุฃููุฑ ุนุจุฏุงููุฌูุฏ ูุน ููุณ ุชุนุจูุฑู ๐ซ๐</div>
        <div style="margin-top: 10px; font-size: 1.25em; color: #2f3542;">ุฅุนุฏุงุฏ: ุฃ / ุนุจุฏุงูุนุฒูุฒ ุงููููู ๐จโ๐ซ</div>
    </div>

    <div id="start-screen">
        <p style="text-align: center; font-size: 1.2em; color: #747d8c;">ูููุฐุฌ ูุฎุจูู ูุฌูุน ุจูู ุงูุงุฑุชุจุงุทุ ุงูููุฑุฏุฉ ุงูุดุงุฐุฉุ ูุงูุงุฎุชูุงู.<br>ุงูููุช ุงููุฎุตุต: <b>45 ุซุงููุฉ</b> ููู ุณุคุงู.</p>
        <input type="text" id="name-input" placeholder="ุงูุชุจ ุงุณูู ุงูุซูุงุซู ูุง ุจุทู..." style="width: 100%; padding: 20px; border-radius: 15px; border: 2px solid #dcdde1; margin-bottom: 25px; font-size: 18px; text-align: center; box-sizing: border-box;">
        <button class="btn btn-start" onclick="initQuiz()">ุฏุฎูู ุญูุจุฉ ุงูุชุญุฏู โก</button>
    </div>

    <div id="quiz-ui" style="display:none;">
        <div class="student-board"><span id="student-tag"></span><div id="timer-text" class="timer-display">45 ุซ</div></div>
        <div id="quiz-content"></div>
        <button id="next-btn" class="btn btn-next" onclick="nextQuestion()" style="display:none;">ุงูุณุคุงู ุงูุชุงูู โฌ๏ธ</button>
    </div>

    <div id="results" style="display:none;">
        <h2 style="text-align: center; color: var(--success);">ุงูุชูู ุงููููุฐุฌ 12 ุจูุฌุงุญ! ๐</h2>
        <div id="score-box" style="text-align: center; font-size: 2.2em; margin: 30px 0; font-weight: bold; color: var(--primary);"></div>
        <div id="summary-list"></div>
        <div class="footer-note">ุฃุชููู ูู ูุฒูุฏุงู ูู ุงูุชูุฏู ูุงูุชููุฒ ุงูุฏุงุฆู ๐<br><strong>ุฃ / ุนุจุฏุงูุนุฒูุฒ ุงููููู</strong></div>
    </div>
</div>

<script>
const TIME_LIMIT = 45; 
const quizData = [
    { q: "ุงูููุฑุฏุฉ ุงูุดุงุฐุฉ: ุญุฏุฏ ุงููููุฉ ุงูุชู ูุง ุชูุชูู ูููุฌููุนุฉ:", a: ["ูุงุดู", "ูุจูู", "ูุทู", "ุญุงุฐู"], c: 0, r: "ูุจูู ููุทู ูุญุงุฐู ุตูุงุช ุฐูุงุก (ุฅูุฌุงุจูุฉ)ุ ุฃูุง ูุงุดู ููู ุตูุฉ ุณูุจูุฉ." },
    { q: "ุงูููุฑุฏุฉ ุงูุดุงุฐุฉ: ุฃู ูู ุงูุดุฎุตูุงุช ุงูุชุงููุฉ ุชุฎุชูู ูู ุตูุชูุง ุจุงููุจู ๏ทบ:", a: ["ุฎุฏูุฌุฉ", "ุญูุตุฉ", "ุนุงุฆุดุฉ", "ูุงุทูุฉ"], c: 3, r: "ูุงุทูุฉ ูู ุงุจูุฉ ุงููุจู ๏ทบุ ุจูููุง ุฎุฏูุฌุฉ ูุญูุตุฉ ูุนุงุฆุดุฉ ูู ุฃููุงุช ุงููุคูููู (ุฒูุฌุงุชู)." },
    { q: "ุงุฑุชุจุงุท: ูุง ุงููููุฉ ุงูุฃูุซุฑ ุตูุฉ ุจูููุฉ (ุจุตูุฑุฉ):", a: ["ุนูู", "ุนูู", "ููุจ", "ููุฑ"], c: 2, r: "ุงูุจุตูุฑุฉ ูุฑุชุจุทุฉ ุจุฅุฏุฑุงู ุงูููุจ ูููุฑูุ ุจูููุง ุงูุจุตุฑ ูุฑุชุจุท ุจุงูุนูู." },
    { q: "ุงูููุฑุฏุฉ ุงูุดุงุฐุฉ: ุญุฏุฏ ุงููููุฉ ุงูุชู ุชุฎุชูู ูู ุตูุฉ ุงูุนูู:", a: ["ุญูุฑุงุก", "ุนูุฑุงุก", "ูููุงุก", "ุญููุงุก"], c: 2, r: "ุญูุฑุงุก ูุนูุฑุงุก ูุญููุงุก ุตูุงุช ููุนููุ ุจูููุง ูููุงุก ุตูุฉ ููุฌุณู (ุฏูุฉ ุงูุฎุตุฑ)." },
    { q: "ุงูููุฑุฏุฉ ุงูุดุงุฐุฉ: ุญุฏุฏ ุงููููุฉ ุงูุดุงุฐุฉ ูููุง ููู:", a: ["ุจูุจู", "ุนุตููุฑ", "ุญูุงูุฉ", "ุทุงุฆุฑ"], c: 3, r: "ุทุงุฆุฑ ูู ุงููุณูู ุงูุนุงูุ ุฃูุง ุงูุจููุฉ ููู ุฃููุงุน ูุญุฏุฏุฉ ูู ุงูุทููุฑ." },
    { q: "ุงุฎุชูุงู: ุฃู ูู ุงูููู ุงูุชุงููุฉ ุชุฎุชูู ูู ุทุจูุนุฉ ุนูููุง: (ุฎูุงุทุ ูุฌุงุฑุ ุญุฏุงุฏุ ูููุฏุณ)ุ", a: ["ุฎูุงุท", "ูููุฏุณ", "ูุฌุงุฑ", "ุญุฏุงุฏ"], c: 1, r: "ุงููููุฏุณ ุนููู ุฐููู ูุชุฎุทูุทูุ ุจูููุง ุงูุฎูุงุท ูุงููุฌุงุฑ ูุงูุญุฏุงุฏ ููู ูุฏููุฉ ุญุฑููุฉ." },
    { q: "ุงูููุฑุฏุฉ ุงูุดุงุฐุฉ: ุญุฏุฏ ุงูููุฑุฏุฉ ุงูุดุงุฐุฉ:", a: ["ุตูู", "ุงุณุชุบูุงุฑ", "ุฏุนุงุก", "ุชูุงูุฉ"], c: 0, r: "ุงูุตูู ุนุจุงุฏุฉ ุจุฏููุฉ ูุฑููุ ุจูููุง ุงูุงุณุชุบูุงุฑ ูุงูุฏุนุงุก ูุงูุชูุงูุฉ ุนุจุงุฏุงุช ููููุฉ." },
    { q: "ุงูููุฑุฏุฉ ุงูุดุงุฐุฉ: ุญุฏุฏ ุงููููุฉ ุงููุฎุชููุฉ:", a: ["ุดูุฏ", "ุฑุญูู", "ุฎููุฉ", "ุนููู"], c: 3, r: "ุงูุนููู ูู ุงูุดูุก ุงููุฑุ ุจูููุง ุงูุดูุฏ ูุงูุฑุญูู ูุงูุฎููุฉ ูุฑุชุจุทุฉ ุจุงูุนุณู ูุญูุงูุชู." },
    { q: "ุงุฎุชูุงู: ุญุฏุฏ ุงูุนูุตุฑ ุงูุฐู ูุฎุชูู ูู ุทุจูุนุชู: (ูุฃูููุ ูุตุญูุ ูุฆุฐูุฉุ ูุญุฑุงุจ)ุ", a: ["ูุตุญู", "ูุฃููู", "ูุฆุฐูุฉ", "ูุญุฑุงุจ"], c: 1, r: "ุงููุฃููู ุฅูุณุงู (ูุงุฆู ุญู)ุ ุจูููุง ุงููุตุญู ูุงููุฆุฐูุฉ ูุงููุญุฑุงุจ ุฌูุงุฏุงุช." },
    { q: "ุงุฑุชุจุงุท: ูุง ุงููููุฉ ุงูุชู ูุง ุชูุชูู ุชุฑููุจุฉ ุงูุฃูุจุงู ุจุฏูููุง (ุงุฑุชุจุงุท ูุตุฏุฑ):", a: ["ุฒุจุงุฏู", "ูุดุทุฉ", "ุญููุจ", "ูุงุก"], c: 2, r: "ุงูุญููุจ ูู ุงููุตุฏุฑ ุงูุฃุณุงุณู ูุงููุญูุฏ ููุฒุจุงุฏู ูุงููุดุทุฉ." },
    { q: "ุงูููุฑุฏุฉ ุงูุดุงุฐุฉ: ุฃู ุงููููุงุช ููุณุช ูุญุฏุฉ ููุงุณ:", a: ["ุณุงุนุฉ", "ุฌุฑุงู", "ุนูุงูุฉ", "ููู"], c: 2, r: "ุงูุณุงุนุฉ ูุงูุฌุฑุงู ูุงูููู ูุญุฏุงุช ููุงุณุ ุฃูุง ุงูุนูุงูุฉ ููู ุฑูุฒ." },
    { q: "ุงูููุฑุฏุฉ ุงูุดุงุฐุฉ: ุญุฏุฏ ุงูุงุณู ุงููุฎุชูู ูููุง ููู:", a: ["ุฃุณูุงุก", "ูุชูุจุฉ", "ุฒููุจ", "ุตููุฉ"], c: 1, r: "ูุชูุจุฉ ุงุณู ูุฐูุฑุ ุจูููุง ุฃุณูุงุก ูุฒููุจ ูุตููุฉ ุฃุณูุงุก ูุคูุซ." },
    { q: "ุงุฎุชูุงู: ุฃู ุงูุนููุงุช ุชุฎุชูู ูู ูููุชูุง ููุญุฏุฉ ุตุบุฑู: (ููุณุ ุฏููุงุฑุ ุฑูุงูุ ุฏููุงุฑ)ุ", a: ["ุฏููุงุฑ", "ุฑูุงู", "ุฏููุงุฑ", "ููุณ"], c: 3, r: "ุงูููุณ ูู ุฌุฒุก ูู ุงูุนููุฉุ ุจูููุง ุงูุฏููุงุฑ ูุงูุฑูุงู ูุงูุฏููุงุฑ ูู ุงููุญุฏุงุช ุงูุฃุณุงุณูุฉ." },
    { q: "ุงุฑุชุจุงุท: ุงููููุฉ ุงููุฑุชุจุทุฉ ุจูููุฉ (ูุฏูู) ูู:", a: ["ุฐูุงุจ", "ุฒูุงู", "ุบูุงุจ", "ูุตูู"], c: 3, r: "ุงููุฏูู ูุงููุตูู ูุชุฑุงุฏูุงูุ ุจูููุง ุงูุจููุฉ ุชุฏู ุนูู ุงูุงุจุชุนุงุฏ." },
    { q: "ุงูููุฑุฏุฉ ุงูุดุงุฐุฉ: ุญุฏุฏ ุงููุฑุถ ุงูุฐู ูุฎุชูู ูู ุฏููููุชู:", a: ["ุตุฏุงุน", "ุฑุจู", "ุฏูุงุฑ", "ุฒูุงู"], c: 1, r: "ุงูุฑุจู ูุฑุถ ูุฒููุ ุจูููุง ุงูุตุฏุงุน ูุงูุฏูุงุฑ ูุงูุฒูุงู ุฃุนุฑุงุถ ุนุงุฑุถุฉ." },
    { q: "ุงุฎุชูุงู: ุฃู ููุง ููู ูุฎุชูู ูู ุชุตูููู ุงูููุณู: (ุจุดุงุฑุฉุ ุชูุนููุ ุฃููุ ุฑุฌุงุก)ุ", a: ["ุจุดุงุฑุฉ", "ุชูุนูู", "ุฃูู", "ุฑุฌุงุก"], c: 1, r: "ุงูุชูุนูู ุนูููุฉ ุนูููุฉ ููุฑูุฉุ ุจูููุง ุงูุจุดุงุฑุฉ ูุงูุฃูู ูุงูุฑุฌุงุก ูุดุงุนุฑ ููุณูุฉ." },
    { q: "ุงูููุฑุฏุฉ ุงูุดุงุฐุฉ: ุญุฏุฏ ุงููููุฉ ุงูุดุงุฐุฉ ูููุง ููุจุณ:", a: ["ุซูุจ", "ุฑุฏุงุก", "ุนูุงูุฉ", "ูููุต"], c: 2, r: "ุงูุนูุงูุฉ ุชูุจุณ ุนูู ุงูุฑุฃุณุ ุจูููุง ุงูุซูุจ ูุงูุฑุฏุงุก ูุงููููุต ุชูุจุณ ุนูู ุงูุฌุณุฏ." },
    { q: "ุงุฑุชุจุงุท: ูููุฉ (ุณูุงุก) ูู ุงูููุงู ุงูุฐู ูุฌูุน ูุคูุงุก ุฅูุง ูุงุญุฏุงู (ุงุฑุชุจุงุท ุฌููุฑู):", a: ["ุฑุนุฏ", "ุจุฑู", "ูุฌู", "ุฌุจู"], c: 3, r: "ุงูุฑุนุฏ ูุงูุจุฑู ูุงููุฌู ููุงููู ุงูุณูุงุกุ ุฃูุง ุงูุฌุจู ูููุงูู ุงูุฃุฑุถ." },
    { q: "ุงูููุฑุฏุฉ ุงูุดุงุฐุฉ: ุญุฏุฏ ุงูุตูุฉ ุงูุชู ุชุฎุชูู ูู ููุนูุง:", a: ["ุตุฏูู", "ุฎู", "ุฑููู", "ุฃุฎ"], c: 3, r: "ุงูุฃุฎ ุตูุฉ ุฑุญู ููุฑุงุจุฉ ุฏูุ ุจูููุง ุงูุตุฏูู ูุงูุฎู ูุงูุฑููู ุนูุงูุงุช ุงุฎุชูุงุฑูุฉ." },
    { q: "ุงุฎุชูุงู: ุฃู ุงููููุงุช ุชุฎุชูู ูู ุญุงูุชูุง ุงูุญุฑููุฉ: (ุฑููุฏุ ุณูููุ ูุฏูุกุ ุนุจูุฑ)ุ", a: ["ุฑููุฏ", "ุณููู", "ูุฏูุก", "ุนุจูุฑ"], c: 3, r: "ุงูุนุจูุฑ ูู ุญุฑูุฉุ ุจูููุง ุงูุฑููุฏ ูุงูุณููู ูุงููุฏูุก ุซุจุงุช ูุงุณุชูุฑุงุฑ." },
    { q: "ุงุฑุชุจุงุท: ุงูุญููุงู ุงูุฐู ูุฎุชูู ูู ูุตููุฉ ุบุฐุงุฆู (ุงุฎุชูุงู):", a: ["ูุฑุฏ", "ุบุฒุงู", "ููุฑ", "ุฃุฑูุจ"], c: 2, r: "ุงูููุฑ ุญููุงู ููุชุฑุณ (ุขูู ูุญูู)ุ ุจูููุง ุงููุฑุฏ ูุงูุบุฒุงู ูุงูุฃุฑูุจ ูุงุฆูุงุช ุนุงุดุจุฉ." },
    { q: "ุงุฑุชุจุงุท: ูููุฉ (ุฑุญู) ุชุฑุชุจุท ูุธูููุงู ูุจุดุฑูุงู ุจู:", a: ["ููุจ", "ุฑุฆุฉ", "ูุนุฏุฉ", "ุงูุฑุฃุฉ"], c: 3, r: "ุงูุฑุญู ุนุถู ูุฑุชุจุท ุจุงููุฑุฃุฉ ุญุตุฑุงูุ ุจูููุง ุงูุจููุฉ ุฃุนุถุงุก ุญูููุฉ ุนุงูุฉ." },
    { q: "ุงุฎุชูุงู: ุฃู ูู ุงูุชุถุงุฑูุณ ุงูุชุงููุฉ ูุฎุชูู ูู ูุตุฏุฑู: (ุฌุจุงูุ ุณูููุ ุฃูุฏูุฉุ ุฌุณูุฑ)ุ", a: ["ุฌุจุงู", "ุณููู", "ุฃูุฏูุฉ", "ุฌุณูุฑ"], c: 3, r: "ุงูุฌุณูุฑ ุจูุงุก ุจุดุฑู (ุตูุงุนู)ุ ุจูููุง ุงูุฌุจุงู ูุงูุณููู ูุงูุฃูุฏูุฉ ุชุถุงุฑูุณ ุทุจูุนูุฉ." },
    { q: "ุงุฎุชูุงู: ุฃู ุฃุฌุฒุงุก ุงูุจูุงุก ูุฎุชูู ูู ููููู: (ุณูุฑุ ุฌุฏุงุฑุ ุณููุ ูุงูุฐุฉ)ุ", a: ["ุณูุฑ", "ูุงูุฐุฉ", "ุฌุฏุงุฑ", "ุณูู"], c: 1, r: "ุงููุงูุฐุฉ ูู ูุชุญุฉ ูู ุงูุจูุงุกุ ุจูููุง ุงูุณูุฑ ูุงูุฌุฏุงุฑ ูุงูุณูู ูู ุญูุงุฌุฒ ูุตูุชุฉ." },
    { q: "ุงุฑุชุจุงุท: ูุง ุงููุงุฆู ุงูุฐู ูุฎุชูู ูู ุชุตูููู ุงูุนููู: (ุฏููููุ ุญูุชุ ุฎูุงุดุ ูุฑุด)ุ", a: ["ุฏูููู", "ุญูุช", "ุฎูุงุด", "ูุฑุด"], c: 3, r: "ุงููุฑุด ุณููุฉ (ุชุจูุถ)ุ ุจูููุง ุงูุฏูููู ูุงูุญูุช ูุงูุฎูุงุด ุซุฏููุงุช (ุชูุฏ ูุชูุฑุถุน)." }
];

let currentPos = 0, score = 0, stdName = "", records = [], timerId = null, timeLeft = TIME_LIMIT;

function initQuiz() {
    stdName = document.getElementById('name-input').value.trim();
    if(!stdName) return alert("ูุทูุงูุ ุงูุงุณู ูุทููุจ ูุชุณุฌูู ุงููุชูุฌุฉ!");
    document.getElementById('start-screen').style.display = "none";
    document.getElementById('quiz-ui').style.display = "block";
    document.getElementById('student-tag').innerHTML = `๐ค ุงููุชุญุฏู: <strong>${stdName}</strong>`;
    renderQuestion();
}

function runTimer() {
    timeLeft = TIME_LIMIT;
    const timerBox = document.getElementById('timer-text');
    timerBox.innerText = `${timeLeft} ุซ`;
    timerBox.classList.remove('timer-warning');
    clearInterval(timerId);
    timerId = setInterval(() => {
        timeLeft--;
        timerBox.innerText = `${timeLeft} ุซ`;
        if(timeLeft <= 7) timerBox.classList.add('timer-warning');
        if(timeLeft <= 0) {
            clearInterval(timerId);
            handleTimeUp();
        }
    }, 1000);
}

function renderQuestion() {
    const data = quizData[currentPos];
    document.getElementById('quiz-content').innerHTML = `
        <div style="color:#57606f; font-weight:bold; margin-bottom:15px; font-size:1.1em;">ุงููุฑุญูุฉ ${currentPos + 1} ูู ${quizData.length}</div>
        <div class="question-box"><h3>${data.q}</h3></div>
        <ul class="options-grid" id="opts">
            ${data.a.map((opt, i) => `<li id="opt-${i}" onclick="onSelect(this, ${i})">${opt}</li>`).join('')}
        </ul>
        <div id="fb" class="feedback"></div>
    `;
    document.getElementById('next-btn').style.display = "none";
    runTimer();
}

function onSelect(el, idx) {
    if(document.getElementById('next-btn').style.display === "block") return;
    clearInterval(timerId);
    const data = quizData[currentPos];
    const isCorrect = (idx === data.c);
    if(isCorrect) score++;
    
    records.push({q: data.q, user: data.a[idx], correct: data.a[data.c], isCorrect, r: data.r});
    
    // ุชูููุฒ ุงูุฅุฌุงุจุงุช
    el.classList.add('selected');
    if(!isCorrect) document.getElementById(`opt-${data.c}`).classList.add('correct-highlight');

    showFeedback(isCorrect, data.r);
}

function handleTimeUp() {
    if(document.getElementById('next-btn').style.display === "block") return;
    const data = quizData[currentPos];
    
    // ุฅุธูุงุฑ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
    const correctOption = document.getElementById(`opt-${data.c}`);
    correctOption.classList.add('correct-highlight');

    records.push({q: data.q, user: "ูู ูุชู ุงูุญู", correct: data.a[data.c], isCorrect: false, r: data.r});
    showFeedback(false, "ุงูุชูู ุงูููุช! ูุงุญุธ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ุงููุญุฏุฏุฉ ุจุงูููู ุงูุฃุฒุฑู ุงููุงุชุญ.<br>" + data.r);
}

function showFeedback(isCorrect, reason) {
    const fb = document.getElementById('fb');
    fb.style.display = "block";
    fb.style.borderColor = isCorrect ? "var(--success)" : "var(--danger)";
    fb.style.background = isCorrect ? "#e8fdf0" : "#fff5f5";
    fb.innerHTML = `<strong>${isCorrect ? 'ุฅุฌุงุจุฉ ูุชููุฒุฉ! โ' : 'ุงูุชุจู ูููุนูููุฉ.. โ'}</strong><br>${reason}`;
    document.getElementById('next-btn').style.display = "block";
}

function nextQuestion() {
    currentPos++;
    if(currentPos < quizData.length) renderQuestion();
    else finalize();
}

function finalize() {
    document.getElementById('quiz-ui').style.display = "none";
    document.getElementById('results').style.display = "block";
    document.getElementById('score-box').innerText = `ุงูุฏุฑุฌุฉ ุงูููุงุฆูุฉ: ${score} ูู ${quizData.length}`;
    let html = "<h4 style='color:var(--primary);'>ุชูุฑูุฑ ุชุญููู ุงููููุฐุฌ:</h4>";
    records.forEach((rec, i) => {
        html += `<div class="summary-item" style="border-right-color: ${rec.isCorrect?'var(--success)':'var(--danger)'}">
            <strong>ุณ${i+1}. ${rec.q}</strong><br>
            ุงุฎุชูุงุฑู: <span style="color:${rec.isCorrect?'var(--success)':'var(--danger)'}">${rec.user}</span> | 
            ุงูุตูุงุจ: <span style="color:var(--success)">${rec.correct}</span><br>
            <small style="color:#555;">๐ก ุงูุชุญููู: ${rec.r}</small>
        </div>`;
    });
    document.getElementById('summary-list').innerHTML = html;
}
</script>
</body>
</html>